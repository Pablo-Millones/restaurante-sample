<!DOCTYPE html>
<html lang="es" class="light">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gourmet Restaurant - Reservas</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif:wght@400;700;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <style>
    body { font-family: "Noto Serif", serif; }
    .container { max-width: 800px; margin: 0 auto; padding: 2rem; }
    .success { color: green; font-weight: bold; margin-top: 1rem; }
    .error { color: red; font-weight: bold; margin-top: 1rem; }
  </style>
</head>

<body class="bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark">

  <header class="bg-primary text-text-light py-6 text-center">
    <h1 class="text-3xl font-bold">Gourmet Restaurant</h1>
    <p class="mt-2">Una experiencia culinaria inolvidable</p>
  </header>

  <main class="container">
    <section id="reservas" class="py-12">
      <h2 class="text-2xl font-bold mb-4">Haga su Reserva</h2>
      <p class="mb-6 text-subtle-light dark:text-subtle-dark">Asegure su mesa para una noche inolvidable.</p>

      <form id="reserva-form" class="space-y-4">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label for="date" class="block mb-1">Fecha</label>
            <input type="date" id="date" name="fecha" required class="w-full rounded border px-2 py-1">
          </div>
          <div>
            <label for="time" class="block mb-1">Hora</label>
            <input type="time" id="time" name="hora" required class="w-full rounded border px-2 py-1">
          </div>
        </div>

        <div>
          <label for="guests" class="block mb-1">Número de Comensales</label>
          <input type="number" id="guests" name="personas" min="1" max="10" required class="w-full rounded border px-2 py-1">
        </div>

        <div>
          <label for="name" class="block mb-1">Nombre Completo</label>
          <input type="text" id="name" name="nombre" required class="w-full rounded border px-2 py-1">
        </div>

        <div>
          <label for="email" class="block mb-1">Correo Electrónico</label>
          <input type="email" id="email" name="email" required class="w-full rounded border px-2 py-1">
        </div>

        <div>
          <label for="telefono" class="block mb-1">Teléfono</label>
          <input type="tel" id="telefono" name="telefono" required class="w-full rounded border px-2 py-1">
        </div>

        <button type="submit" class="w-full bg-primary text-text-light py-2 rounded font-bold hover:opacity-90 transition">Confirmar Reserva</button>
        <div id="mensaje-reserva"></div>
      </form>
    </section>
  </main>

  <footer class="bg-background-dark text-background-light py-8 text-center">
    <p>&copy; 2025 Gourmet Restaurant. Todos los derechos reservados.</p>
  </footer>

  <script>
    const form = document.getElementById('reserva-form');
    const mensaje = document.getElementById('mensaje-reserva');

    form.addEventListener('submit', e => {
      e.preventDefault();

      const data = new FormData(form);
      const params = new URLSearchParams(data);

      fetch('https://script.google.com/macros/s/TU_DEPLOY_ID/exec', { // Reemplaza con tu URL de Apps Script
        method: 'POST',
        body: params
      })
      .then(res => res.text())
      .then(texto => {
        mensaje.textContent = texto;
        mensaje.className = "success";
        form.reset();
      })
      .catch(err => {
        mensaje.textContent = '❌ Ocurrió un error. Intenta nuevamente.';
        mensaje.className = "error";
        console.error(err);
      });
    });
  </script>

</body>
</html>
